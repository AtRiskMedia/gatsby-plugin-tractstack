{"version":3,"sources":["src/helpers.js"],"names":["React","sanitize","styled","graphql","useStaticQuery","Link","getImage","GatsbyImage","convertToBgImage","BackgroundImage","SvgPane","ButtonCallbackFunction","callback","payload","alert","console","log","target","HtmlAstToReact","children","imageData","buttonData","contents","raw","fragment","map","e","index","type","value","tagName","Tag","properties","href","is_button","Object","keys","length","key","find","urlTarget","className","callbackFunction","callbackPayload","pass","extcheck","src","match","this_imageData","filter","image","filename","localFile","childImageSharp","gatsbyImageData","alt","p","i","props","list","li","StyledWrapperDiv","div","css","StyledWrapperSection","section","PaneFragment","id","child","InjectSvgShape","shape","viewport","parent_css","zIndex","parseInt","InjectSvg","url","alt_text","InjectGatsbyBackgroundImage","bgImage","InjectGatsbyBackgroundVideo","child_css","MarkdownParagraph","htmlAst","paragraph","getStoryStepGraph","graph","targetId","edges","node"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { sanitize } from \"hast-util-sanitize\";\nimport styled from \"styled-components\";\nimport { graphql, useStaticQuery, Link } from \"gatsby\";\nimport { getImage, GatsbyImage } from \"gatsby-plugin-image\";\nimport { convertToBgImage } from \"gbimage-bridge\";\nimport BackgroundImage from \"gatsby-background-image\";\nimport { SvgPane } from \"./shapes.js\";\n\nconst ButtonCallbackFunction = (callback, payload) => {\n  switch (callback) {\n    case \"alert\":\n      alert(payload);\n      break;\n\n    default:\n      console.log(\n        \"MISS on helpers.js ButtonCallbackFunction:\",\n        target,\n        payload\n      );\n  }\n};\n\nconst HtmlAstToReact = (children, imageData = [], buttonData = []) => {\n  // recursive function\n  // breaks gatsby images free of enclosing p tag\n  let contents, raw;\n  const fragment = children.map((e, index) => {\n    if (e?.type === \"text\") return <span key={index}>{e?.value}</span>;\n    switch (e?.tagName) {\n      case \"h1\":\n      case \"h2\":\n      case \"h3\":\n      case \"h4\":\n      case \"h5\":\n      case \"h6\":\n        const Tag = e?.tagName;\n        return (\n          <div key={index}>\n            <Tag>{e?.children[0].value}</Tag>\n          </div>\n        );\n\n      case \"br\":\n        return <br key={index} />;\n\n      case \"em\":\n        if (typeof e?.children[0]?.value === \"string\") {\n          return <em key={index}>{e?.children[0]?.value}</em>;\n        }\n        break;\n\n      case \"strong\":\n        if (typeof e?.children[0]?.value === \"string\") {\n          return <strong key={index}>{e?.children[0]?.value}</strong>;\n        }\n        break;\n\n      case \"a\":\n        if (\n          typeof e?.properties?.href === \"string\" &&\n          e?.children[0]?.type === \"text\" &&\n          typeof e?.children[0]?.value === \"string\"\n        ) {\n          // check for buttons action payload\n          let is_button;\n          if (\n            typeof buttonData === \"object\" &&\n            Object.keys(buttonData).length\n          ) {\n            let key = Object.keys(buttonData).find(\n              (target) => buttonData[target]?.urlTarget === e?.properties?.href\n            );\n            is_button = buttonData[key];\n          }\n          if (is_button) {\n            // inject button with css class\n            return (\n              <button\n                key={index}\n                className={is_button?.className}\n                onClick={function (e) {\n                  ButtonCallbackFunction(\n                    is_button?.callbackFunction,\n                    is_button?.callbackPayload\n                  );\n                }}\n              >\n                {e?.children[0]?.value}\n              </button>\n            );\n          }\n\n          // else, treat at internal link\n          // ...TODO: add check here and use a href for external links\n          return (\n            <Link to={e?.properties?.href} key={index}>\n              {e?.children[0]?.value}\n            </Link>\n          );\n        }\n        break;\n\n      case \"img\":\n        // is this case for gatsby image? = png, jpg ... != svg\n        let pass = /\\.[A-Za-z0-9]+$/;\n        let extcheck = e?.properties?.src?.match(pass);\n        if (extcheck && (extcheck[0] === \".png\" || extcheck[0] === \".jpg\")) {\n          // imageData in this case is an array ... must find correct element\n          let this_imageData = imageData.filter(\n            (image) => image.filename === e?.properties?.src\n          )[0]?.localFile?.childImageSharp?.gatsbyImageData;\n          return (\n            <GatsbyImage\n              key={index}\n              alt={e?.properties?.alt}\n              image={this_imageData}\n            />\n          );\n        }\n        break;\n\n      case \"p\":\n        contents = e?.children?.map((p, i) => {\n          // use recursion to compose the MarkdownParagraph\n          return HtmlAstToReact([p], imageData, buttonData);\n        });\n        // is this an image?\n        if (contents.length === 1 && contents[0][0].props?.image) {\n          return <div key={index}>{contents[0][0]}</div>;\n        }\n        return (\n          <div key={index}>\n            <p>{contents}</p>\n          </div>\n        );\n\n      case \"ul\":\n      case \"ol\":\n        raw = e?.children.filter(\n          (e) => !(e.type === \"text\" && e.value === \"\\n\")\n        );\n        contents = HtmlAstToReact(raw, imageData, buttonData);\n        let list;\n        if (e?.tagName === \"ol\") list = <ol>{contents}</ol>;\n        if (e?.tagName === \"ul\") list = <ul>{contents}</ul>;\n        return <div key={index}>{list}</div>;\n\n      case \"li\":\n        contents = e?.children?.map((li, i) => {\n          // use recursion to compose the MarkdownParagraph\n          return HtmlAstToReact([li], imageData, buttonData);\n        });\n        return <li key={index}>{contents}</li>;\n\n      case \"blockquote\":\n        raw = e?.children.filter(\n          (e) => !(e.type === \"text\" && e.value === \"\\n\")\n        );\n        let contents = HtmlAstToReact(raw, imageData, buttonData);\n        if (typeof e?.children[0]?.value === \"string\") {\n          return <blockquote key={index}>{contents}</blockquote>;\n        }\n        break;\n\n      default:\n        console.log(\"helpers.js: MISS on\", e);\n    }\n  });\n  return fragment;\n};\n\nconst StyledWrapperDiv = styled.div`\n  ${(props) => props.css};\n`;\nconst StyledWrapperSection = styled.section`\n  ${(props) => props.css};\n`;\n\nconst PaneFragment = (id, child, css) => {\n  return (\n    <StyledWrapperDiv key={id} css={css}>\n      {child}\n    </StyledWrapperDiv>\n  );\n};\n\n// pre-rendered svg shapes for each viewport\n// TODO\n// will rely on shapes.js\nconst InjectSvgShape = (id, shape, viewport, parent_css, zIndex) => {\n  let css = `${parent_css} z-index: ${parseInt(zIndex)};`;\n  let child = SvgPane(shape, viewport);\n  return PaneFragment(id, child, css);\n};\n\nconst InjectSvg = (id, url, alt_text, parent_css, zIndex) => {\n  let css = `${parent_css} z-index: ${parseInt(zIndex)};`;\n  let child = <img src={url} alt={alt_text} className=\"paneFragmentCSS\" />;\n  return PaneFragment(id, child, css);\n};\n\nconst InjectGatsbyBackgroundImage = (\n  id,\n  imageData,\n  alt_text,\n  parent_css = \"\",\n  zIndex\n) => {\n  const this_imageData = getImage(imageData);\n  const bgImage = convertToBgImage(this_imageData);\n\n  let css = `z-index: ${parseInt(zIndex)}; img { ${parent_css} }`;\n  let child = (\n    <BackgroundImage Tag=\"section\" {...bgImage} preserveStackingContext>\n      <div className=\"paneFragmentImage\">\n        <GatsbyImage image={this_imageData} alt={alt_text} />\n      </div>\n    </BackgroundImage>\n  );\n  return PaneFragment(id, child, css);\n};\n\nconst InjectGatsbyBackgroundVideo = (\n  id,\n  url,\n  alt_text,\n  parent_css = \"\",\n  child_css = \"\",\n  zIndex\n) => {\n  let css = `${parent_css} z-index: ${parseInt(zIndex)}; ${child_css}`;\n  let child = (\n    <video\n      autoPlay={true}\n      muted\n      loop\n      id={id}\n      title={alt_text}\n      className=\"paneFragmentVideo\"\n    >\n      <source src={url} type=\"video/mp4\" />\n    </video>\n  );\n  return PaneFragment(id, child, css);\n};\n\nconst MarkdownParagraph = (\n  id,\n  htmlAst,\n  imageData = [],\n  buttonData = [],\n  parent_css = \"\",\n  child_css = \"\",\n  zIndex\n) => {\n  const paragraph = HtmlAstToReact(htmlAst?.children, imageData, buttonData);\n  let css = `height:100%; ${parent_css} z-index: ${parseInt(\n    zIndex\n  )}; ${child_css}`;\n  return PaneFragment(id, paragraph, css);\n};\n\nconst getStoryStepGraph = (graph, targetId) => {\n  return graph?.edges?.filter((e) => e?.node?.id === targetId)[0];\n};\n\nexport {\n  MarkdownParagraph,\n  InjectGatsbyBackgroundImage,\n  InjectGatsbyBackgroundVideo,\n  InjectSvg,\n  InjectSvgShape,\n  StyledWrapperDiv,\n  StyledWrapperSection,\n  PaneFragment,\n  getStoryStepGraph,\n};\n"],"file":"helpers.js"}