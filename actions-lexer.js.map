{"version":3,"sources":["src/actions-lexer.js"],"names":["BRACKETLEFT","BRACKETRIGHT","SEMICOLON","NEWLINE","WHITESPACE","lispLexer","payload","tokens","curToken","i","length","char","charAt","tokenized","remaining","substring","push","includes"],"mappings":"AAAA,MAAMA,WAAW,GAAI,GAArB;AACA,MAAMC,YAAY,GAAI,GAAtB;AACA,MAAMC,SAAS,GAAI,GAAnB;AACA,MAAMC,OAAO,GAAI,IAAjB;AACA,MAAMC,UAAU,GAAG,CAAC,GAAD,EAAM,IAAN,EAAY,IAAZ,CAAnB;;AAEA,SAASC,SAAT,CAAmBC,OAAO,GAAG,EAA7B,EAAiC;AAC/B,QAAMC,MAAM,GAAG,EAAf;AACA,MAAIC,QAAQ,GAAG,EAAf;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,OAAO,CAACI,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,UAAME,IAAI,GAAGL,OAAO,CAACM,MAAR,CAAeH,CAAf,CAAb;;AACA,QAAIE,IAAI,KAAKX,WAAb,EAA0B;AACxB,YAAM,CAACa,SAAD,EAAYC,SAAZ,IAAyBT,SAAS,CAACC,OAAO,CAACS,SAAR,CAAkBN,CAAC,GAAG,CAAtB,CAAD,CAAxC;AACAF,MAAAA,MAAM,CAACS,IAAP,CAAYH,SAAZ;AACAP,MAAAA,OAAO,GAAGQ,SAAV;AACAL,MAAAA,CAAC,GAAG,CAAC,CAAL;AACD,KALD,MAKO,IAAIE,IAAI,KAAKV,YAAb,EAA2B;AAChC,UAAIO,QAAQ,CAACE,MAAb,EAAqB;AACnBH,QAAAA,MAAM,CAACS,IAAP,CAAY,CAACR,QAAD,IAAaA,QAAzB;AACD;;AACD,aAAO,CAACD,MAAD,EAASD,OAAO,CAACS,SAAR,CAAkBN,CAAC,GAAG,CAAtB,CAAT,CAAP;AACD,KALM,MAKA,IAAIE,IAAI,KAAKT,SAAb,EAAwB;AAC7B,aAAOI,OAAO,CAACM,MAAR,CAAeH,CAAf,MAAsBN,OAA7B,EAAsC;AACpCM,QAAAA,CAAC;AACF;AACF,KAJM,MAIA,IAAIL,UAAU,CAACa,QAAX,CAAoBN,IAApB,CAAJ,EAA+B;AACpC,UAAIH,QAAQ,CAACE,MAAb,EAAqB;AACnBH,QAAAA,MAAM,CAACS,IAAP,CAAY,CAACR,QAAD,IAAaA,QAAzB;AACD;;AACDA,MAAAA,QAAQ,GAAG,EAAX;AACD,KALM,MAKA;AACLA,MAAAA,QAAQ,IAAIG,IAAZ;AACD;AACF;;AACD,SAAO,CAACJ,MAAD,EAAS,EAAT,CAAP;AACD;;AAED,SAASF,SAAT","sourcesContent":["const BRACKETLEFT = `(`;\nconst BRACKETRIGHT = `)`;\nconst SEMICOLON = `;`;\nconst NEWLINE = `\\n`;\nconst WHITESPACE = [\" \", \"\\n\", \"\\t\"];\n\nfunction lispLexer(payload = \"\") {\n  const tokens = [];\n  let curToken = \"\";\n\n  for (let i = 0; i < payload.length; i++) {\n    const char = payload.charAt(i);\n    if (char === BRACKETLEFT) {\n      const [tokenized, remaining] = lispLexer(payload.substring(i + 1));\n      tokens.push(tokenized);\n      payload = remaining;\n      i = -1;\n    } else if (char === BRACKETRIGHT) {\n      if (curToken.length) {\n        tokens.push(+curToken || curToken);\n      }\n      return [tokens, payload.substring(i + 1)];\n    } else if (char === SEMICOLON) {\n      while (payload.charAt(i) !== NEWLINE) {\n        i++;\n      }\n    } else if (WHITESPACE.includes(char)) {\n      if (curToken.length) {\n        tokens.push(+curToken || curToken);\n      }\n      curToken = \"\";\n    } else {\n      curToken += char;\n    }\n  }\n  return [tokens, \"\"];\n}\n\nexport { lispLexer };\n"],"file":"actions-lexer.js"}