{"version":3,"file":"build-controller.js","names":["React","Link","SvgPane","SvgPlay","SvgRewind","TractStackLogo","StyledWrapperDiv","InjectCssAnimation","BuildController","data","next","prev","link","react_fragment","effects_payload","state","storyStep","storyStepGraph","field_slug","previous","controller_pane","viewport","key","prefersReducedMotion","in","css","console","log","current","id"],"sources":["src/build-controller.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"gatsby\";\nimport { SvgPane, SvgPlay, SvgRewind, TractStackLogo } from \"./shapes\";\nimport { StyledWrapperDiv, InjectCssAnimation } from \"./helpers\";\n\nfunction BuildController(data) {\n  let next, prev, link, react_fragment, effects_payload;\n  if (data?.state?.storyStep?.storyStepGraph?.next?.field_slug)\n    next = `/${data?.state?.storyStep?.storyStepGraph?.next?.field_slug}`;\n  if (data?.state?.storyStep?.storyStepGraph?.previous?.field_slug)\n    prev = `/${data?.state?.storyStep?.storyStepGraph?.previous?.field_slug}`;\n  let controller_pane = SvgPane(\"mini\", data?.state?.viewport?.viewport?.key);\n\n  /*\n  <div className=\"controller__graph\">\n    {next ? (\n      <a onClick={() => data?.hooks?.hookGoto(next)}>\n        <SvgPlay />\n      </a>\n    ) : (\n      \"\"\n    )}\n    {prev ? (\n      <a onClick={() => data?.hooks?.hookGoto(prev)}>\n        <SvgRewind />\n      </a>\n    ) : (\n      \"\"\n    )}\n  </div>\n  */\n\n  // can we wrap this in animation?\n  if (data?.state?.prefersReducedMotion?.prefersReducedMotion === false) {\n    effects_payload = {\n      in: [\"fadeIn\", 2, 1],\n    };\n  }\n  let css = InjectCssAnimation(effects_payload, \"tractstack-controller\");\n  console.log(2, css);\n  return (\n    <section\n      key={data?.state?.storyStep?.storyStepGraph?.current?.id}\n      className=\"controller\"\n    >\n      <StyledWrapperDiv css={css}>\n        <div id=\"tractstack-controller\" className=\"controller__container\">\n          <div\n            className={`controller__view controller__view--${data?.state?.viewport?.viewport?.key}`}\n          >\n            <div id=\"calls-to-action\"></div>\n          </div>\n          <div\n            className={`controller__view controller__view--${data?.state?.viewport?.viewport?.key}`}\n          >\n            {controller_pane}\n          </div>\n        </div>\n      </StyledWrapperDiv>\n    </section>\n  );\n}\n\nexport { BuildController };\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,OAAT,EAAkBC,OAAlB,EAA2BC,SAA3B,EAAsCC,cAAtC,QAA4D,UAA5D;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,WAArD;;AAEA,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;EAC7B,IAAIC,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,cAAtB,EAAsCC,eAAtC;EACA,IAAIL,IAAI,EAAEM,KAAN,EAAaC,SAAb,EAAwBC,cAAxB,EAAwCP,IAAxC,EAA8CQ,UAAlD,EACER,IAAI,GAAI,IAAGD,IAAI,EAAEM,KAAN,EAAaC,SAAb,EAAwBC,cAAxB,EAAwCP,IAAxC,EAA8CQ,UAAW,EAApE;EACF,IAAIT,IAAI,EAAEM,KAAN,EAAaC,SAAb,EAAwBC,cAAxB,EAAwCE,QAAxC,EAAkDD,UAAtD,EACEP,IAAI,GAAI,IAAGF,IAAI,EAAEM,KAAN,EAAaC,SAAb,EAAwBC,cAAxB,EAAwCE,QAAxC,EAAkDD,UAAW,EAAxE;EACF,IAAIE,eAAe,GAAGlB,OAAO,CAAC,MAAD,EAASO,IAAI,EAAEM,KAAN,EAAaM,QAAb,EAAuBA,QAAvB,EAAiCC,GAA1C,CAA7B;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEE;;EACA,IAAIb,IAAI,EAAEM,KAAN,EAAaQ,oBAAb,EAAmCA,oBAAnC,KAA4D,KAAhE,EAAuE;IACrET,eAAe,GAAG;MAChBU,EAAE,EAAE,CAAC,QAAD,EAAW,CAAX,EAAc,CAAd;IADY,CAAlB;EAGD;;EACD,IAAIC,GAAG,GAAGlB,kBAAkB,CAACO,eAAD,EAAkB,uBAAlB,CAA5B;EACAY,OAAO,CAACC,GAAR,CAAY,CAAZ,EAAeF,GAAf;EACA,oBACE;IACE,GAAG,EAAEhB,IAAI,EAAEM,KAAN,EAAaC,SAAb,EAAwBC,cAAxB,EAAwCW,OAAxC,EAAiDC,EADxD;IAEE,SAAS,EAAC;EAFZ,gBAIE,oBAAC,gBAAD;IAAkB,GAAG,EAAEJ;EAAvB,gBACE;IAAK,EAAE,EAAC,uBAAR;IAAgC,SAAS,EAAC;EAA1C,gBACE;IACE,SAAS,EAAG,sCAAqChB,IAAI,EAAEM,KAAN,EAAaM,QAAb,EAAuBA,QAAvB,EAAiCC,GAAI;EADxF,gBAGE;IAAK,EAAE,EAAC;EAAR,EAHF,CADF,eAME;IACE,SAAS,EAAG,sCAAqCb,IAAI,EAAEM,KAAN,EAAaM,QAAb,EAAuBA,QAAvB,EAAiCC,GAAI;EADxF,GAGGF,eAHH,CANF,CADF,CAJF,CADF;AAqBD;;AAED,SAASZ,eAAT"}