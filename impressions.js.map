{"version":3,"file":"impressions.js","names":["React","Component","Slider","wordmark","icon","lispLexer","lispCallback","ImpressionsIcons","props","iconsMode","icons","impressionsRaw","payload","Object","keys","forEach","pane","activePanes","includes","paneFragment","impression","index","this_impression","this_icon","injectPayload","payload_ast","actionsLisp","useHookEndPoint","length","push","Slide","console","log","this_id","title","headline","hook","ImpressionsCarousel","render","settings","dots","infinite","slidesToShow","slidesToScroll","autoplay","fade","arrows","autoplaySpeed","impressions","viewportKey"],"sources":["src/impressions.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Slider from \"react-slick\";\nimport { wordmark, icon } from \"./shapes\";\nimport { lispLexer } from \"./lexer\";\nimport { lispCallback } from \"./helpers\";\n\nconst ImpressionsIcons = (props) => {\n  let iconsMode = \"default\",\n    icons = [];\n  let impressionsRaw = props?.payload;\n  if (impressionsRaw)\n    Object.keys(impressionsRaw).forEach((pane) => {\n      if (props?.activePanes?.includes(pane))\n        Object.keys(impressionsRaw[pane]).forEach((paneFragment) => {\n          Object.keys(impressionsRaw[pane][paneFragment]).forEach(\n            (impression, index) => {\n              let this_impression =\n                impressionsRaw[pane][paneFragment][impression];\n              let this_icon = icon(this_impression?.icon);\n              function injectPayload() {\n                let payload_ast = lispLexer(this_impression?.actionsLisp);\n                lispCallback(payload_ast[0], \"\", props?.useHookEndPoint);\n              }\n              if (icons.length < 8)\n                icons.push(\n                  <li\n                    key={index}\n                    className=\"action visible\"\n                    onClick={() => injectPayload()}\n                  >\n                    {this_icon}\n                  </li>\n                );\n            }\n          );\n        });\n    });\n  if (icons.length > 4) iconsMode = \"full\";\n  return <ul className={iconsMode}>{icons}</ul>;\n};\n\nconst Slide = (props) => {\n  console.log(props);\n  return (\n    <div key={props?.this_id}>\n      <div className=\"title\">{props?.title}</div>\n      <div className=\"headline\">\n        {props?.headline}{\" \"}\n        <a className=\"more\" onClick={() => props?.hook()}>\n          Read&nbsp;&gt;\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default class ImpressionsCarousel extends Component {\n  render() {\n    let props = this?.props;\n    var settings = {\n      dots: false,\n      infinite: true,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      autoplay: true,\n      fade: true,\n      arrows: false,\n      autoplaySpeed: 22000,\n    };\n    let impressions = [];\n    let impressionsRaw = props?.payload;\n    if (impressionsRaw)\n      Object.keys(impressionsRaw).forEach((pane) => {\n        if (props?.activePanes?.includes(pane))\n          Object.keys(impressionsRaw[pane]).forEach((paneFragment) => {\n            Object.keys(impressionsRaw[pane][paneFragment]).forEach(\n              (impression, index) => {\n                function injectPayload() {\n                  let payload_ast = lispLexer(this_impression?.actionsLisp);\n                  lispCallback(payload_ast[0], \"\", props?.useHookEndPoint);\n                }\n                let this_impression =\n                  impressionsRaw[pane][paneFragment][impression];\n                let title;\n                if (typeof this_impression?.wordmark === \"string\")\n                  title = wordmark(this_impression?.wordmark);\n                else title = this_impression?.title;\n                impressions.push(\n                  Slide({\n                    this_id: this_impression?.icon,\n                    title: title,\n                    headline: this_impression?.headline,\n                    hook: injectPayload,\n                  })\n                );\n              }\n            );\n          });\n      });\n    let title = wordmark(\"tractstack\");\n    impressions.push(\n      <div key=\"powered-by-tractstack\">\n        <div className=\"title\">{title}</div>\n        <div className=\"headline\">\n          Learning science powered product-market-fit finder for start-ups,\n          brand evangelists and community builders.\n        </div>\n      </div>\n    );\n\n    return (\n      <div\n        id={`controller-carousel-${props?.viewportKey}`}\n        className={`controller-carousel controller-carousel-${props?.viewportKey} controller__container--carousel`}\n      >\n        <Slider {...settings}>{impressions}</Slider>\n      </div>\n    );\n  }\n}\n\nexport { ImpressionsCarousel, ImpressionsIcons };\n"],"mappings":"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"}